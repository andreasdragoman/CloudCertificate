<h1 id="tableLabel">Persons</h1>

<!-- <p *ngIf="!personsList?.length"><em>Loading...</em></p> -->

<div>
  <table class='table table-striped' aria-labelledby="tableLabel" mat-table [dataSource]="dataSource" matSort>
      <!-- Id Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>
    
      <!-- Firstname Column -->
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Firstname </th>
        <td mat-cell *matCellDef="let element"> {{element.firstName}} </td>
      </ng-container>

      <!-- Lastname Column -->
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Firstname </th>
        <td mat-cell *matCellDef="let element"> {{element.firstName}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  <mat-paginator 
      [length]="resLength"
      [pageSize]="5"
      [pageSizeOptions]="[3, 5, 10]"
      [showFirstLastButtons]="true"
      (page)="onChangePage($event)">
    </mat-paginator>
</div>

<h1>Create new person</h1>
<form #personForm="ngForm" (ngSubmit)="onSubmit()" style="width: 500px; padding-top:30px;">

  <div class="form-group">
    <label for="firstName">First Name</label>
    <input type="text" class="form-control" id="firstName" name="firstName" required [(ngModel)]="personModel.firstName" #firstName="ngModel">
    <div [hidden]="firstName.valid || firstName.pristine" class="alert alert-danger">
      Firstname is required
    </div>
  </div>

  <div class="form-group">
    <label for="lastName">Last Name</label>
    <input type="text" class="form-control" id="lastName" name="lastName" required [(ngModel)]="personModel.lastName" #lastName="ngModel">
    <div [hidden]="lastName.valid || lastName.pristine" class="alert alert-danger">
      Last is required
    </div>
  </div>

  <button type="submit" class="btn btn-success" style="margin-top: 20px;"
    [disabled]="!personForm.form.valid">Submit</button>

</form>